<template name="home">
    <h1>Games</h1>

    {{#if currentUser}}
    <h2>Welcome {{currentUser.username}}</h2>
    <button id="auth-button" class="btn btn-danger">Log Out</button>
    {{else}}
    <button id="auth-button" class="btn btn-primary">Login/Register</button>
    {{/if}}

    <p>Total games: {{gamesCount}}</p>
    <button id="go-to-add-game" class="btn btn-secondary">Add New Game</button>
    <button id="go-to-edit-games" class="btn btn-secondary">Edit Games</button>
    <button id="go-to-genres" class="btn btn-secondary">Genres</button>

    <!-- Oyunları listelemek için bir tablo oluşturun -->
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Genres</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
            {{#each games}}
            <tr>
                <td>{{name}}</td>
                <td>{{description}}</td>
                <td>{{formattedGenres}}</td>
                <td>{{formattedCreatedAt}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <!-- Login/Register panel -->
    {{#if showAuthPanel}}
    <div id="auth-panel" class="auth-panel">
        <!-- Kapatma butonu -->
        <div class="close-panel-container">
            <button id="close-auth-panel" class="btn btn-danger close-panel-button">&times;</button>
        </div>

        {{#if showLogin}}
        {{> login}}
        {{else}}
        {{> register}}
        {{/if}}
    </div>
    {{/if}}
</template>
