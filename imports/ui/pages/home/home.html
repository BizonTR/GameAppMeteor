<template name="home">
    <h1>Games</h1>

    {{#if currentUser}}
    <h2>Welcome {{currentUser.username}}</h2>
    <button id="auth-button" class="btn btn-danger">Log Out</button>
    {{else}}
    <button id="auth-button" class="btn btn-primary">Login/Register</button>
    {{/if}}

    <p>Total games: {{gamesCount}}</p>
    <button id="go-to-add-game" class="btn btn-secondary">Add New Game</button>
    <button id="go-to-edit-games" class="btn btn-secondary">Edit Games</button>
    <button id="go-to-genres" class="btn btn-secondary">Genres</button>

    <!-- Oyunları listelemek için bir tablo oluşturun -->
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Genres</th>
                <th>Created At</th>
            </tr>
        </thead>
        <tbody>
            {{#each games}}
            <tr>
                <td>{{name}}</td>
                <td>{{description}}</td>
                <td>{{formattedGenres}}</td>
                <td>{{formattedCreatedAt}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <!-- Login/Register panel -->
    <div id="auth-panel" class="auth-panel" style="display: none;">
        <!-- Kapatma butonu -->
        <div class="close-panel-container">
            <button id="close-auth-panel" class="btn btn-danger close-panel-button">&times;</button>
        </div>


        <form id="login-form">
            <h3>Login</h3>
            <div class="mb-3">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div class="mb-3">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
            <p>Don't have an account? <a href="#" id="show-register">Create one</a></p>
        </form>

        <form id="register-form" style="display: none;">
            <h3>Register</h3>
            <div class="mb-3">
                <label for="reg-username">Username:</label>
                <input type="text" id="reg-username" name="username" required>
            </div>
            <div class="mb-3">
                <label for="reg-email">Email:</label>
                <input type="email" id="reg-email" name="email" required>
            </div>
            <div class="mb-3">
                <label for="reg-password">Password:</label>
                <input type="password" id="reg-password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Register</button>
            <p>Already have an account? <a href="#" id="show-login">Login</a></p>
        </form>
    </div>
</template>